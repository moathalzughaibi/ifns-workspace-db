indicator_id,name,family_role_primary,family_role_secondary,level,universe_tier,digitization_level,construction_type,dependencies_L1,dependencies_external,inputs,output_type_primary,output_components,default_timeframes,pattern_window,state_space_def,ml_role_primary,ml_role_secondary,backtest_hooks,feature_outputs_default,notes_phase4
trend_mtf_v1,Multi-Timeframe Trend Framework v1,Trend & Price Location,Market Structure & Geometry,L3,1,rule,state_machine,"ema_12,ema_26,ema_50,sma_20,sma_50,price_location_20,atr_14",,price,category,"{""trend_state_mtf"": ""category"", ""trend_score_mtf"": ""scalar"", ""trend_state_short"": ""category"", ""trend_state_medium"": ""category"", ""trend_state_long"": ""category""}","[""15m"",""1h"",""1d""]","{""short"": ""15m"", ""medium"": ""1h"", ""long"": ""1d""}","{""trend_state_mtf"": [""strong_up"",""up"",""sideways"",""down"",""strong_down""]}",context,"feature,filter","{""slice_metrics"": [""PnL_by_trend_state"",""hit_rate_by_trend_state""], ""gate_usage"": [""strategy_activation_by_trend_state""]}","{""value"": true, ""state"": true, ""events"": false}",Aggregates MA slopes and price location across timeframes into discrete trend states and a score; hysteresis is used to avoid state churning.
structure_mtf_v1,Structure MTF Framework v1,Market Structure & Geometry,Trend & Price Location,L3,1,rule,state_machine,"swing_high_5,swing_low_5,range_high_20,range_low_20,atr_14",,price,category,"{""structure_state_mtf"": ""category"", ""swing_tier_labels"": ""episode""}","[""15m"",""1h"",""1d""]","{""minor_window"": 5, ""primary_window"": 20, ""major_window"": 60}","{""structure_state_mtf"": [""up_structure"",""down_structure"",""sideways_structure"",""transition""]}",context,feature,"{""slice_metrics"": [""PnL_by_structure_state""], ""gate_usage"": [""stop_target_rules_by_structure""]}","{""value"": true, ""state"": true, ""events"": true}",Builds tiered swing structure from L1 swings and infers HH/HL vs LH/LL regimes; outputs structure state and swing episodes.
sr_zone_v1,Support/Resistance Zones v1,Market Structure & Geometry,,L3,1,rule,pattern_engine,"range_high_20,range_low_20,swing_high_5,swing_low_5,volume,vol_sma_20,atr_14",,"price,volume",episode,"{""zone_episode"": {""zone_id"": ""string"", ""zone_type"": ""category"", ""price_low"": ""scalar"", ""price_high"": ""scalar"", ""strength_score"": ""scalar"", ""first_touch_ts"": ""timestamp"", ""last_touch_ts"": ""timestamp"", ""touch_count"": ""int""}}","[""1h"",""1d""]","{""cluster_window"": 60, ""min_touches"": 2}","{""zone_type"": [""support"",""resistance""]}",context,"feature,risk","{""slice_metrics"": [""PnL_by_zone_interaction""], ""gate_usage"": [""avoid_entries_near_strong_zone""]}","{""value"": true, ""state"": false, ""events"": true}",Clusters swing points and highs/lows into price zones with ATR-based width; tracks touches and assigns strength scores.
breakout_flag_v1,Breakout Flag v1,Market Structure & Geometry,Trend & Price Location,L2,1,rule,pattern_engine,"range_high_20,range_low_20,atr_14",,price,flag,"{""breakout_flag_up"": ""flag"", ""breakout_flag_down"": ""flag""}","[""5m"",""15m"",""1h""]","{""lookback"": 20, ""min_breakout_atr"": 1.0}","{""breakout_flag_up"": [0,1], ""breakout_flag_down"": [0,1]}",filter,context,"{""slice_metrics"": [""PnL_around_breakouts""], ""gate_usage"": [""entry_triggers_breakouts""]}","{""value"": false, ""state"": false, ""events"": true}",Flags breakout/breakdown events when price escapes recent range by ATR-scaled thresholds; optionally requires close confirmation.
vol_regime_state_v1,Volatility Regime State v1,Volatility & Range,Event & Regime,L3,2,rule,state_machine,"atr_14,realized_vol_20",,price,category,"{""vol_regime_state"": ""category""}","[""1h"",""1d""]","{""baseline_window"": 250, ""hysteresis"": true}","{""vol_regime_state"": [""calm"",""normal"",""stressed""]}",context,filter,"{""slice_metrics"": [""PnL_by_vol_regime"",""hit_rate_by_vol_regime""], ""gate_usage"": [""disable_strategies_in_stress""]}","{""value"": false, ""state"": true, ""events"": true}",Maps normalized ATR/realized volatility to discrete regimes using long-run baselines and hysteresis to avoid chattering.
liq_stress_v1,Liquidity Stress Score v1,Volume / Flow / Liquidity,Risk & Exposure,L3,2,ml_pattern,composite_score,"volume,vol_sma_20,spread_bp,ofi_20,depth_imbalance_1,true_range,atr_14","slippage_labels,execution_costs","price,volume,orderbook",scalar,"{""liq_stress_score"": ""scalar"", ""liq_stress_state"": ""category""}","[""intraday"",""1h""]","{""lookback"": 20}","{""liq_stress_state"": [""normal"",""tight"",""stressed""]}",risk,"context,filter","{""slice_metrics"": [""TE_by_liq_state"",""slippage_by_liq_state""], ""gate_usage"": [""throttle_size_in_stressed""]}","{""value"": true, ""state"": true, ""events"": true}","Composite ML or rule-based score using spread, volume, depth, and impact proxies; governs execution aggressiveness and risk gates."
candle_pattern_basic_v1,Basic Candle Pattern Flags v1,Candle Grammar & Micro-Patterns,Market Structure & Geometry,L2,1,rule,pattern_engine,"candle_body_pct,upper_wick_pct,lower_wick_pct,close_pos_pct",,price,flag,"{""is_doji"": ""flag"", ""is_pinbar_bull"": ""flag"", ""is_pinbar_bear"": ""flag"", ""is_hammer"": ""flag"", ""is_shooting_star"": ""flag"", ""is_strong_bull"": ""flag"", ""is_strong_bear"": ""flag""}","[""all""]","{""lookback"": 1}","{""patterns"": [""doji"",""pinbar_bull"",""pinbar_bear"",""hammer"",""shooting_star"",""strong_bull"",""strong_bear""]}",feature,context,"{""slice_metrics"": [""PnL_after_pattern""], ""gate_usage"": [""entry_filters_using_patterns""]}","{""value"": false, ""state"": false, ""events"": true}",Rule-based detection of classic single-candle patterns using body and wick proportions and close location.
multi_candle_pattern_v1,Multi-Candle Pattern v1,Candle Grammar & Micro-Patterns,Market Structure & Geometry,L2,1,rule,pattern_engine,"candle_body_pct,upper_wick_pct,lower_wick_pct,close_pos_pct",,price,flag,"{""is_engulfing_bull"": ""flag"", ""is_engulfing_bear"": ""flag"", ""is_morning_star"": ""flag"", ""is_evening_star"": ""flag""}","[""all""]","{""lookback"": 3}","{""patterns"": [""engulfing_bull"",""engulfing_bear"",""morning_star"",""evening_star""]}",feature,context,"{""slice_metrics"": [""PnL_after_multi_patterns""], ""gate_usage"": [""signal_filters_multi_patterns""]}","{""value"": false, ""state"": false, ""events"": true}",Two- and three-candle patterns detected via rules on consecutive candles; used mainly as explanatory or fine-tuning features.
candle_embedding_v1,Candle Embedding v1,Candle Grammar & Micro-Patterns,,L3,2,ml_pattern,pattern_engine,"candle_body_pct,upper_wick_pct,lower_wick_pct,close_pos_pct",training_dataset_candles,price,vector,"{""candle_embedding"": ""vector_16""}","[""5m"",""15m"",""1h""]","{""window"": 20}",{},feature,context,"{""slice_metrics"": [""cluster_stats_by_embedding""], ""gate_usage"": []}","{""value"": true, ""state"": false, ""events"": false}",Sequence-model-based embedding of last N candles into a fixed-length vector; used as dense input representation for advanced models.
candle_cluster_id_v1,Candle Cluster ID v1,Candle Grammar & Micro-Patterns,,L3,2,ml_pattern,pattern_engine,candle_embedding_v1,cluster_model_candles,price,category,"{""candle_cluster_id"": ""category""}","[""5m"",""15m"",""1h""]","{""window"": 20}","{""candle_cluster_id"": ""integer_id""}",context,feature,"{""slice_metrics"": [""PnL_by_candle_cluster""], ""gate_usage"": [""cluster_specific_rules""]}","{""value"": false, ""state"": true, ""events"": false}",Maps candle embeddings into discrete cluster IDs representing micro-pattern states; often used for slicing and context conditioning.
fund_quality_score_v1,Fundamental Quality Score v1,Valuation & Fundamentals,Risk & Exposure,L3,2,ml_pattern,composite_score,"pe_ttm,pb,div_yield,eps_growth_yoy,rev_growth_yoy,debt_to_equity",fund_quality_labels,"fundamental,price",scalar,"{""fund_quality_score"": ""scalar""}","[""1d"",""1w"",""1m""]","{""lookback"": 252}",{},feature,context,"{""slice_metrics"": [""PnL_by_quality_bucket""], ""gate_usage"": [""universe_selection_quality""]}","{""value"": true, ""state"": true, ""events"": false}",Combines multiple fundamental metrics into a single quality score using either weighted formula or supervised model.
valuation_percentile_v1,Valuation Percentile v1,Valuation & Fundamentals,Event & Regime,L2,2,formula,aggregation,"pe_ttm,pb",peer_group_definitions,"fundamental,price",oscillator,"{""valuation_percentile"": ""oscillator""}","[""1d"",""1w"",""1m""]","{""peer_scope"": ""sector_or_universe""}","{""valuation_percentile"": [0.0,1.0]}",context,feature,"{""slice_metrics"": [""PnL_by_valuation_bucket""], ""gate_usage"": [""value_factor_construction""]}","{""value"": true, ""state"": true, ""events"": false}","Computes percentile of valuation metrics vs peer group, yielding a relative cheap/expensive measure."
event_window_state_v1,Event Window State v1,Event & Regime,,L2,1,rule,state_machine,"earnings_flag,dividend_flag","event_calendar,macro_release_calendar",events,category,"{""event_window_state"": ""category""}","[""1d""]","{""pre_window"": 2, ""post_window"": 2}","{""event_window_state"": [""none"",""pre_event"",""event_day"",""post_event""]}",context,filter,"{""slice_metrics"": [""PnL_by_event_state""], ""gate_usage"": [""disable_entries_on_event_day""]}","{""value"": false, ""state"": true, ""events"": false}",Encodes position in event timeline relative to earnings/dividends/macro releases into simple pre/event/post states.
regime_cluster_id_v1,Regime Cluster ID v1,Event & Regime,Volatility & Range,L3,2,ml_pattern,pattern_engine,"trend_mtf_v1,vol_regime_state_v1,realized_vol_20,atr_14",regime_cluster_model,"price,macro",category,"{""regime_cluster_id"": ""category""}","[""1d""]","{""window"": 60}","{""regime_cluster_id"": ""integer_id""}",context,"filter,risk","{""slice_metrics"": [""PnL_by_regime_cluster""], ""gate_usage"": [""strategy_whitelists_by_regime""]}","{""value"": false, ""state"": true, ""events"": false}",Unsupervised clustering of context indicators into discrete market regimes; used to slice performance and condition strategies.
macro_regime_state_v1,Macro Regime State v1,Event & Regime,Valuation & Fundamentals,L3,2,ml_pattern,state_machine,,macro_data_series,macro,category,"{""macro_regime_state"": ""category""}","[""1w"",""1m""]","{""lookback"": 252}","{""macro_regime_state"": [""hi_infl_hi_growth"",""hi_infl_lo_growth"",""lo_infl_hi_growth"",""lo_infl_lo_growth"",""other""]}",context,risk,"{""slice_metrics"": [""PnL_by_macro_regime""], ""gate_usage"": [""exposure_limits_by_macro""]}","{""value"": false, ""state"": true, ""events"": false}",Maps macroeconomic indicators into interpretable regimes (growth/inflation quadrants) via rules or low-dimensional ML mapping.
stress_state_v1,Stress State v1,Risk & Exposure,Event & Regime,L3,2,ml_pattern,composite_score,"dd_trailing_20,dd_intraday,realized_vol_20,vol_regime_state_v1,gross_exposure,net_exposure",stress_labels_or_policies,"price,portfolio",category,"{""stress_state"": ""category"", ""stress_score"": ""scalar""}","[""intraday"",""1d""]","{""window"": 60}","{""stress_state"": [""normal"",""elevated"",""critical""]}",risk,context,"{""slice_metrics"": [""PnL_vs_stress_state"",""risk_limits_breaches""], ""gate_usage"": [""auto_deleveraging_in_critical""]}","{""value"": true, ""state"": true, ""events"": true}","Combines drawdowns, volatility, and exposures into stress scores and states; drives system-level risk responses."
risk_budget_util_v1,Risk Budget Utilization v1,Risk & Exposure,,L3,2,rule,aggregation,"gross_exposure,net_exposure","policy_limits,var_es_metrics",portfolio,scalar,"{""risk_budget_utilization"": ""scalar""}","[""intraday"",""1d""]","{""window"": 1}","{""risk_budget_utilization"": [0.0,1.5]}",risk,filter,"{""slice_metrics"": [""time_in_high_utilization""], ""gate_usage"": [""block_new_trades_above_threshold""]}","{""value"": true, ""state"": true, ""events"": true}",Computes utilization ratios of defined risk budgets using exposures and risk metrics vs policy limits; drives gating and alerts.
